<div class="text-center mb-4 align-items-center">
    <h2 class="section-title px-5"><span class="px-2">Administración</span></h2>
</div>
<div id="editSuccessAlert" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
    ¡El producto se ha editado correctamente!
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div id="deleteSuccessAlert" class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none;">
    ¡El producto se ha eliminado correctamente!
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div id="addSuccessAlert" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
    ¡El producto se ha creado correctamente!
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<!-- Cart Start -->
<div class="container-fluid pt-5">
    <div class="row px-xl-5">
        <div class="col-lg-3 pb-5">
            <div class="card border-secondary mb-5">
                <div class="card-header bg-secondary border-0">
                    <h4 class="font-weight-semi-bold m-0">Creación de Productos</h4>
                </div>
                <div class="card-body">
                    <form nid="contactForm" novalidate="novalidate" method="post" action="/admin"
                        enctype="multipart/form-data">
                        <div class="control-group">
                            <label for="Nombre">Nombre:</label>
                            <input type="text" class="form-control" id="Nombre" name="Nombre"
                                placeholder="Digite Nombre" required="required"
                                data-validation-required-message="Digite nombre" autofocus />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Color">Color:</label>
                            <input type="text" class="form-control" id="Color" name="Color" placeholder="Digite Color"
                                required="required" data-validation-required-message="Digite color" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Talla">Talla:</label>
                            <input type="text" class="form-control" id="Talla" name="Talla"
                                placeholder="Digite Tallas separadas por coma" required="required"
                                data-validation-required-message="Digite tallas separadas por coma" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Precio">Precio:</label>
                            <input type="text" class="form-control" id="Precio" name="Precio"
                                placeholder="Digite Precio" required="required"
                                data-validation-required-message="Digite precio" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Tipo">Tipo:</label>
                            <select class="form-control" id="Tipo" placeholder="Tipo" name="Seleccione Tipo"
                                required="required" data-validation-required-message="Seleccione Tipo">
                                <option>Venta</option>
                                <option>Alquiler</option>
                            </select>
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Estado">Estado:</label>
                            <select class="form-control" id="Estado" placeholder="Seleccione Estado" name="Estado"
                                required="required" data-validation-required-message="Seleccione Estado">
                                <option>Nuevo</option>
                                <option>Usado</option>
                            </select>
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Cantidad">Cantidad:</label>
                            <input type="text" class="form-control" id="Cantidad" name="Cantidad"
                                placeholder="Digite Existencias" required="required"
                                data-validation-required-message="Digite Cantidad" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Categoria">Categoria:</label>
                            <select class="form-control" id="Categoria" name="Categoria"
                                placeholder="Seleccione Categoria" required="required"
                                data-validation-required-message="Seleccione Estado">
                                <option>Noche</option>
                                <option>XV años</option>
                                <option>Novia</option>
                                <option>Grado</option>
                                <option>Dama de Honor</option>
                                <option>Trajes de Caballero</option>
                            </select>
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Fotografia">Fotografia:</label>
                            <input type="file" class="form-control" name="Fotografia" id="Cargue Fotografia"
                                placeholder="Fotografia" data-validation-required-message="Seleccione Fotografia" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="Categoria">Categoria:</label>
                            <textarea class="form-control" rows="3" name="Descripcion" id="Digite Descripcion"
                                placeholder="Descripcion" required="required"
                                data-validation-required-message="Por favor digite una descripción del producto"></textarea>
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="card-footer border-secondary bg-transparent">
                            <button class="btn btn-block btn-primary my-3 py-3" id="sendMessageButton">Crear
                                producto</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-9">
            <div class="card border-secondary mb-5">
                <div class="card-header bg-secondary border-0">
                    <h4 class="font-weight-semi-bold m-0">PRODUCTOS</h4>
                </div>
                <table class="table table-fixed text-center">
                    <colgroup>
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                        <col style="width: 10%;">
                    </colgroup>

                    <thead>
                        <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Color</th>
                            <th scope="col">Tallas</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Categoria</th>
                            <th scope="col">Imagen</th>
                            <th scope="col">Acciòn</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#if productos}}
                        {{#each productos}}
                        <tr>
                            <th scope="row">´{{PKProducto}}</th>
                            <td>{{Nombre}}</td>
                            <td>{{Color}}</td>
                            <td>{{Talla}}</td>
                            <td>{{Precio}}</td>
                            <td>{{Estado}}</td>
                            <td>{{Cantidad}}</td>
                            <td>{{Categoria}}</td>
                            <td class="w-10"><img src="{{Fotografia}}" style="width: 100%;"></td>
                            <td>
                                <a href="#" class="btn border" id="btnEliminar"
                                    onclick="confirmDelete('{{PKProducto}}')">
                                    <i class="fas fa-trash"></i>
                                    <span class="badge">Eliminar</span>
                                </a>

                                <br><br>

                                <a href="/edit/{{PKProducto}}" class="btn border" id="btnEditar">
                                    <i class="fas fa-edit"></i>
                                    <span class="badge">Editar</span>
                                </a>


                            </td>
                        </tr>
                        {{/each}}
                        {{else}}
                        {{/if}}
                    </tbody>

                </table>
                <!-- Controles de paginación -->
                <nav>
                    <ul class="pagination justify-content-center mt-4">
                        {{#if (gt currentPage 1)}}
                        <li class="page-item">
                            <a class="page-link" href="/admin?page={{subtract currentPage 1}}">Anterior</a>
                        </li>
                        {{/if}}

                        {{#each (range 1 totalPages)}}
                        <li class="page-item {{#if (eq this ../currentPage)}}active{{/if}}">
                            <a class="page-link" href="/admin?page={{this}}">{{this}}</a>
                        </li>
                        {{/each}}

                        {{#if (lt currentPage totalPages)}}
                        <li class="page-item">
                            <a class="page-link" href="/admin?page={{add currentPage 1}}">Siguiente</a>
                        </li>
                        {{/if}}
                    </ul>
                </nav>

            </div>

        </div>




    </div>
</div>